# Planeta GAS: Система бронирования

Бронирование тренировок и учёт продаж в Google Таблицах.

## Статус проекта
- **Sidebar**: Единый интерфейс с табовой навигацией (Задачи, Продажи, Расписание, Клиенты). Шапка зафиксирована (sticky).
- **История клиентов**: Прямо в сайдбаре можно посмотреть последние 5 покупок и график занятий.
- **Умное бронирование**: Автоматический учет длительности (Бассейн = 30 мин, Ванны = 60 мин), проверка конфликтов.
- **Интерфейс**: Шрифт задач 9px, формат чисел `1 000` (через пробел, без ₽).

## Файловая структура
- `constants.gs`: Настройки и COLS.
- `sheetDriver.gs`: Работа с Google Sheets, поиск последней строки.
- `bookingService.gs`: Логика `bookingServiceAddTraining` и проверки.
- `ui.gs`: Бэкенд для Sidebar (getClientHistory, checkAvailabilityRealtime).
- `sidebar.html`: Основной интерфейс.
## Дальнейшее развитие
1. **Аналитика в сайдбаре**: Добавление блока с краткой статистикой за день (выручка, количество записей).
2. **Проверка конфликтов в реальном времени**: Предупреждение о двойной записи тренера или перегрузке зала прямо при выборе времени.
3. **Карточка клиента**: Быстрый переход к истории посещений или балансу абонемента при клике на имя клиента в сайдбаре.
4. **Оптимизация под планшеты**: Адаптация размеров элементов для удобной работы на сенсорных экранах.

## Отключенные модули
Следующие модули вынесены в папку `gridservice/` и не используются в текущем проекте:
- `gridService.gs` — генерация сетки слотов
- `integrationService.gs` — WhatsApp интеграция

## Следующие шаги
1. **Задачи**: Доработка логики чтения задач из листа.
2. **Админ-панель**: Отмена/изменение записей через UI.
3. **Статистика**: Отчеты по посещаемости.
